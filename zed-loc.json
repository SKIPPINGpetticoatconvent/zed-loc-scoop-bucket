{
  "version": "v0.214.5",
  "description": "Zed Editor (Localized)",
  "homepage": "https://github.com/SKIPPINGpetticoatconvent/zed-loc",
  "license": "GPL-3.0-only",
  "bin": "zed.exe",
  "checkver": {
    "github": "https://github.com/SKIPPINGpetticoatconvent/zed-loc"
  },
  "autoupdate": {
    "architecture": {
      "64bit": {
        "url": "https://github.com/SKIPPINGpetticoatconvent/zed-loc/releases/download/$version/zed-windows.zip"
      }
    }
  },
  "architecture": {
    "64bit": {
      "hash": "5C28583E7779B485E2CD4C19401ECCFC41FDAD9677CBA901E82B75642B56634D",
      "url": "https://github.com/SKIPPINGpetticoatconvent/zed-loc/releases/download/v0.214.5/zed-windows.zip"
    }
  },
  "shortcuts": [
    [
      "zed.exe",
      "Zed"
    ]
  ],
  "post_install": [
    "Write-Host 'Adding Context Menu items...'",
    "$zedPath = \"$dir\\zed.exe\"",
    "$iconPath = \"$dir\\zed.exe,0\"",
    "# 1. 创建注册表项 (Force 确保存在)",
    "New-Item -Path \"HKCU:\\Software\\Classes\\*\\shell\\Zed\" -Force | Out-Null",
    "New-Item -Path \"HKCU:\\Software\\Classes\\*\\shell\\Zed\\command\" -Force | Out-Null",
    "# 2. 设置显示名称",
    "Set-Item -Path \"HKCU:\\Software\\Classes\\*\\shell\\Zed\" -Value \"Open with Zed\"",
    "# 3. 设置图标",
    "Set-ItemProperty -Path \"HKCU:\\Software\\Classes\\*\\shell\\Zed\" -Name \"Icon\" -Value $iconPath",
    "# 4. 设置命令 (处理引号)",
    "$cmd = \"`\"$zedPath`\" `\"%1`\"\"",
    "Set-Item -Path \"HKCU:\\Software\\Classes\\*\\shell\\Zed\\command\" -Value $cmd",
    "Write-Host 'Context Menu added.'"
  ],
  "pre_uninstall": [
    "Write-Host 'Removing Context Menu items...'",
    "if (Test-Path \"HKCU:\\Software\\Classes\\*\\shell\\Zed\") { Remove-Item \"HKCU:\\Software\\Classes\\*\\shell\\Zed\" -Recurse -Force }",
    "Write-Host 'Context Menu removed.'"
  ]
}